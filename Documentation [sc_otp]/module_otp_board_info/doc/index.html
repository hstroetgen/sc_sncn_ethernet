

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OTP Board Info Reading Module &mdash; OTP Board Info Reading Module v documentation</title>

    <link rel="stylesheet" href=".static/pygments.css" type="text/css" />
    <link rel="stylesheet" href=".static/globals.css"  type="text/css" />
    <link rel="stylesheet" href=".static/ui.css" type="text/css" />
    <link rel="stylesheet" href=".static/app.css"  type="text/css" />
    <link rel="stylesheet" href=".static/mobile.css"  type="text/css" />
    <link rel="stylesheet" href=".static/xde.css"
    type="text/css" /><script type="text/javascript" src=".static/scripts.js"></script>
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src=".static/jquery.js"></script>
    <script type="text/javascript" src=".static/underscore.js"></script>
    <script type="text/javascript" src=".static/doctools.js"></script>
    <link rel="top" title="OTP Board Info Reading Module v documentation" href="#" /> 
  </head>
  <body class="xde indented-content" onload="prepareContents();">  
          <div id="body">
             <div id="content">
             <h1>OTP Board Info Reading Module</h1>

             <div class='columns'>
            
  <p>This module contains functions for reading board information
(e.g. serial number, MAC address) from the OTP memory of an XCore.
This information can be written to the device using the XBURN develop
tool provider by XMOS.</p>
<h2 class="topic" id="api">API</h2>
<div><p>The ports used by OTP memory are the same on every tile. They need to
be declared with the following type:</p>
<ul class='lib'><li class="type">
<h2 id="otp_ports_t">
<tt class="descname">otp_ports_t</tt></h2>
<p>Functions for reading board information (serial number, MAC address).</p>
<p>from the OTP memory of an XCore. This information can be written to the device using XBURN. otp_ports_t structure - contains ports used to access the OTP memory.</p>
<p><strong>Structure Members:</strong></p>
<ul class='lib'><li class="member">
<h2 id="otp_ports_t.data">
port <tt class="descname">data</tt></h2>
</li>

<li class="member">
<h2 id="otp_ports_t.addr">
out port <tt class="descname">addr</tt></h2>
</li>

<li class="member">
<h2 id="otp_ports_t.ctrl">
out port <tt class="descname">ctrl</tt></h2>
</li>

</ul></li>

</ul><p>For convenience the define <tt class="docutils literal"><span class="pre">OTP_PORTS_INITIALIZER</span></tt> is provided that
can be used to initialize a structure of this type to the correct
ports for accessing OTP e.g.:</p>
<pre class="snip-single-inline">
on stdcore[0]: otp_ports_t otp_ports = OTP_PORTS_INITIALIZER;
</pre>
<p>The following functions can then be used to obtain information from
the OTP that has be set via XBURN:</p>
<ul class='lib'><li class="function">
<h2 id="otp_board_info_get_mac">
int <tt class="descname">otp_board_info_get_mac</tt><big>(</big><a class="reference" href="#otp_ports_t" title="otp_ports_t"><span>otp_ports_t</span></a><em>&nbsp;&amp;ports</em>, unsigned<em>&nbsp;index</em>, char<em>&nbsp;mac[6]</em><big>)</big></h2>
<p>Read a MAC address from the board information written at the end of the OTP memory.</p>
<h3 class="nosecnum compact" id="">Parameters</h3>
<div><ul class="field_list" class="latex_compact"><li><h2>ports</h2>
<p>Ports used to access the OTP memory.</p>
</li>
<li><h2>index</h2>
<p>Index of the MAC address to retrieve.</p>
</li>
<li><h2>mac</h2>
<p>Array to write the MAC address to.</p>
</li>
</ul>
</div><h3 class="nosecnum compact" id="">Returns</h3>
<div><p>Returns 1 on success, 0 on failure.</p>
</div></li>

<li class="function">
<h2 id="otp_board_info_get_serial">
int <tt class="descname">otp_board_info_get_serial</tt><big>(</big><a class="reference" href="#otp_ports_t" title="otp_ports_t"><span>otp_ports_t</span></a><em>&nbsp;&amp;ports</em>, unsigned<em>&nbsp;&amp;value</em><big>)</big></h2>
<p>Read a serial number from the board information written at the end of the OTP memory.</p>
<h3 class="nosecnum compact" id="">Parameters</h3>
<div><ul class="field_list" class="latex_compact"><li><h2>ports</h2>
<p>Ports used to access the OTP memory.</p>
</li>
<li><h2>value</h2>
<p>Variable to store the serial number to.</p>
</li>
</ul>
</div><h3 class="nosecnum compact" id="">Returns</h3>
<div><p>Returns 1 on success, 0 on failure.</p>
</div></li>

</ul></div>

             </div>
             </div>


          </div>

          <div>
             <!--seealsos-->
          </div>
    <div class="footer">
    </div>
  </body>
</html>